---
import Layout from "../layouts/Layout.astro";
import MembersList from "../components/members/MembersList.tsx";

// TODO: Get user role from authentication
const userRole = "department_representative";

// Redirect secretaries away from this page
if (userRole !== "department_representative") {
  return Astro.redirect("/");
}
---

<Layout title="Członkowie - 10x Dog Show">
  <div class="space-y-6">
    <!-- Header -->
    <div class="bg-white shadow rounded-lg p-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-bold text-gray-900 mb-2">Członkowie ZKwP</h1>
          <p class="text-gray-600">Zarządzanie właścicielami psów i ich pupilami</p>
        </div>
        {userRole === "department_representative" && (
          <button
            id="add-member-btn"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2"
          >
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
            Dodaj członka
          </button>
        )}
      </div>
    </div>

    <!-- Members List -->
    <div class="bg-white shadow rounded-lg">
      <MembersList client:load userRole={userRole} />
    </div>
  </div>
</Layout> 
